{"./":{"url":"./","title":"0. 前言","keywords":"","body":"序言 本教程基于 Minecraft 1.16.5,Forge 36.2.20，映射表版本为官方映射表，原则上不涉及其他版本的内容。 首先，欢迎你打开本篇教程。Phoenix是一篇基于Forge的，面向中文社区初学者的 Minecraft1.16.5 mod 开发教程。本教程仓库与教程示例代码仓库。 在阅读了大大小小的各种中文我的世界模组开发教程之后，直观的感觉就是大多只是覆盖了一些初级与中级的内容，而让大家在感兴趣的部分大都仍然停留在TODO的状态。于是，本篇教程由是诞生。 在写作的内容中，会尽量的兼顾各个层次的读者的水平，除了基本的内容之外，我还会添加章后拓展内容，主要包括一些模组中经常实现的功能，有一些会附上代码和提示，不但起到举一反三的效果，而且可以提高阅读他人代码、查找实现的能力。 在正式开始教程的阅读之前，首先请读者明确以下三点： 有一定的Java基础和计算机知识，需要掌握Java基本的语法以及面向对象的思想 了解Minecraft的基本特性与功能(不然你还来写mod干嘛) 拥有耐心与时间，开发过程中经常会遇到恼人的问题 如果以上的问题你的答案为是，那么话不多说，你就可以翻开下一页，正式开始我的世界模组开发之路。 在你的mod编程之路上，有许多网站可以成为你遇到困难时可查阅之处： 我的世界中文论坛开发板块，在这里可以看到一些优秀的开发教程，遇到问题可以在此提问 GitHub与mc中文百科，当你觉得你需要的功能在某个模组中有类似的实现，你可以在这里找到他们开源的代码。而百科的模组介绍页中大多附有模组的源代码仓库链接 我的世界中文wiki以及中文镜像站，原版内容的所有特性都可以在此找到 其他同版本的优秀教程： Boson 1.16 Mod 开发教程：内容覆盖较为全面，但一部分因版本改动不兼容1.16.5 Forge官方文档：英文，更像参考手册而不是教程指南 Forge社区百科：英文，内容详细，国内访问速度较慢 因本人能力有限，在编写的过程中难免出现纰漏，或者你有更好的建议，欢迎前往本教程的issues报告问题和讨论版。 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt01/intro.html":{"url":"pt01/intro.html","title":"1. 开发环境部署","keywords":"","body":"开发环境部署 在第一章，我们将会来部署模组的开发环境。这是开发前期最困难的一部分，请做好心理准备(雾)。 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt01/forge_installing.html":{"url":"pt01/forge_installing.html","title":"1.1 Forge环境部署","keywords":"","body":"Forge环境部署 开始之前 在开始之前，你需要先下载以下内容： JDK8：Oracle官网 或者 OpenJDK ，下载后请安装并自行配置环境变量 Forge MDK 1.16.5 36.2.20：下载后请解压到不含中文和特殊符号的文件夹 IntelliJ IDEA 社区版 2021.3.1：下载后请安装，可自行上网寻找相关的配置、热键教程 推荐使用 IDEA 作为模组开发的 IDE。当然，Forge 本身也添加了对 Eclipse 与 VS code 的支持，你也可以选择使用，但IDEA的操作以及对Gradle的功能集成较好。若无特殊说明，本教程之后的操作都以IDEA为例。 部署Forge开发环境 开发环境的配置依赖于Forge开发的一个叫ForgeGradle的Gradle工具(以下简称FG)，可以用来编译、反编译，打包模组，安装前置依赖以及帮助我们构建。 首先，请确保你的Forge目录之下包含以下文件(本教程示例代码文件名为PhoenixCode，下同)： PhoenixCode/： gradle/... build.gradle gradle.properties gradlew gradlew.bat src/... 关于FG以及这些文件的具体作用将于第二章介绍。 打开IDEA，在开始界面选择Open or Import,选择刚刚解压的文件夹下的build.gradle文件，选择Open As Project打开。 成功导入项目之后，IDEA便会自动的进行Gradle构建,从forge以及mc的海外服务器缓慢的(?)下载文件。根据所在的地区以及网络的原因，构建的时间短则几分钟，长则几小时。 构建有很大的可能失败，我在这里提供了如下几种加快配置的方案： 如果你有代理，可以为gradle配置代理，请自行上网搜索配置方法。 FledgeXu提供了一个ForgeGradle的fork ForgeGradleCN，添加了国内的下载源，具体配置见此文。(好像因为FG版本更新挂了？) 可以采用Lss233搭建的镜像加快构建，具体配置见此文。可以加快下载gradle和maven仓库的速度。但mc本体等资源的下载由FG在代码里写死了，仍然会拖慢构建的速度。 如果上述办法都不可行，请采用耗子的离线包并按照提示安装。 当然不是百分之百的构建失败的原因都是由网络引起的，尝试删除用户文件夹下的.gradle文件夹可能可以解决非网络相关的失败问题。 如果上述配置一切顺利，那么在最后你可以看到BUILD SUCCESSFUL提示，说明导入成功。出现黄色的感叹号警示说明你当前使用的是官方映射表，可以忽略。 恭喜你，已经成功配置Forge开发环境！ 启动器相关设置 Gradle启动速度较慢，打开IntelliJ的设置，找到Gradle页，将使用此工具构建和运行的值改为IntelliJ IDEA并保存。 设置完成后，点击运行右侧的Gradle面板中的Tasks，fg_runs下的genIntelliJRuns，会自动下载运行剩余所需的依赖文件，同样在完成之后可以看到BUILD SUCCESSFUL的提示。 然后选择运行任务中的runClient任务(不是那个Gradle的任务)。可能会有一段等待的时间，可以看到mc成功启动了。 附录：其他相关配置 启动客户端配置 在运行启动客户端的任务时，Gradle会先运行检查更新等在大多数情况下不必要的操作，可以选择去掉。 请在确保至少已经成功运行过一遍runClient任务后，打开运行选项卡 -> 编辑配置选项，删除\"启动前\"中的Gradle任务(下图中划线部分)。 可以加快客户端的启动速度。 IDEA切换成中文 在插件中搜索\"Chinese\"，可以找到中文语言包，下载即可。 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt01/developing_environment.html":{"url":"pt01/developing_environment.html","title":"1.2 开发环境配置与mod信息","keywords":"","body":"开发环境配置与mod信息 这一节将会介绍forge文件夹下相关文件的配置以及作用。 首先是目录下的src文件夹，这里保存了你的模组的代码和资源文件。main文件夹下保存了模组的代码，test用来保存测试的代码。打开main/java文件夹可以看到forge提供了一个示例模组examplemod，将其删除，并且新建一个你自己的模组文件夹，命名规则为.mod名称。如果你没有域名，可以采用用户名等其他名称。我这里创建的是lcyzsdh.phoenixcode。请注意大小写，Java包名称建议全为小写。 创建完成后，在phoenixcode包下新建一个Java类，名字为PhoenixCode（具体的命名规则请参考第二章第四节）。 这个就是我们模组的主类。在类名上添加@Mod注释，告诉Forge这是我们模组的主类 main/java/lcyzsdh/phoenixcode/PhoenixCode.java: import net.minecraftforge.fml.common.Mod; @Mod(\"phoenixcode\") public class PhoenixCode { } @Mod后的字符串代表了你的modid，这是你的模组唯一的id,将你的模组和其他的模组区分开来。modid在整个模组中都应该保持一致，不允许大写字符或者空格，注意和模组名称区分开来。 接下来我们要配置resources/META-INF下的mods.toml文件，这里保存了你的模组相关信息。具体的配置项目如下： 选项 是否必填 描述 modLoader 是 模组的加载方式，默认值即可 loaderVersion 是 模组加载的版本，默认值即可 license 是 模组的许可证，可在这里找到 modId 是 模组的唯一id，请全部小写,保持和项目文件中的一致 version 是 模组版本号，保持默认值即可，会自动和项目文件中的版本号同步 displayName 是 模组的名称 updateJSONURL 可选 模组更新链接，具体写法可参照Forge文档 displayURL 可选 模组展示网站 logoFile 可选 模组logo credits 可选 模组的鸣谢名单 authors 可选 模组的作者 description 是 模组的描述 以上标记为必填的选项请根据自己的内容填写，其他内容选填，下面是我的mods.toml文件： main/resources/META-INF/mods.toml: modLoader=\"javafml\" loaderVersion=\"[36,)\" license=\"GNU GPLv3\" [[mods]] modId=\"phoenixcode\" version=\"${file.jarVersion}\" displayName=\"PhoenixCode\" authors=\"lcyzsdh\" description=''' A Minecraft 1.16.5 modding tutorial. ''' 填写完自己模组的内容以后，请将mods.toml文件剩下部分中的examplemod字段改为自己的modid。 接下来，请打开项目目录下的build.gradle文件，如果你对Gradle了解，应该知道这是Gradle项目的项目文件，当然你从未接触过也没关系，我们一起来看： 首先buildscript部分是你的模组构建的依赖部分，如果你的模组需要依赖于其他的模组，可以在这里添加相关的配置，Gradle将会自动为你下载这些依赖，我们暂时不会用到。 往下你会看到以下代码，请将其修改为你自己的内容。其中的version代表了你模组的版本号，具体的版本号规范请见。 build.gradle： version = '1.0' group = 'lcyzsdh.phoenixcode' archivesBaseName = 'phoenixcode' By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt02/intro.html":{"url":"pt02/intro.html","title":"2. mod基础","keywords":"","body":"2.mod基础 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt02/forge_and_forgegradle.html":{"url":"pt02/forge_and_forgegradle.html","title":"2.1 Forge和ForgeGradle","keywords":"","body":"Forge和ForgeGradle By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt02/minecraft.html":{"url":"pt02/minecraft.html","title":"2.2 Minecraft概念","keywords":"","body":"Minecraft概念 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt02/modding.html":{"url":"pt02/modding.html","title":"2.3 mod相关概念","keywords":"","body":"mod相关概念 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt02/how_work.html":{"url":"pt02/how_work.html","title":"2.4 开发时应该做的","keywords":"","body":"开发时应该做的 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt03/intro.html":{"url":"pt03/intro.html","title":"3. 物品","keywords":"","body":"3.物品 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt03/creat_item.html":{"url":"pt03/creat_item.html","title":"3.1 创建一个物品","keywords":"","body":"创建一个物品 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt03/item_model.html":{"url":"pt03/item_model.html","title":"3.2 物品模型","keywords":"","body":"物品模型 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt03/items.html":{"url":"pt03/items.html","title":"3.3 物品相关概念","keywords":"","body":"物品相关概念 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt03/creat_tool.html":{"url":"pt03/creat_tool.html","title":"3.4 创建一种工具、武器和装备","keywords":"","body":"创建一种工具、武器和装备 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt03/creat_food.html":{"url":"pt03/creat_food.html","title":"3.5创建一种食物","keywords":"","body":"3.5创建一种食物 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt03/senior_item/intro.html":{"url":"pt03/senior_item/intro.html","title":"3.6 高阶物品","keywords":"","body":"高阶物品 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt03/senior_item/senior_item_model.html":{"url":"pt03/senior_item/senior_item_model.html","title":"3.6.1 高阶物品模型","keywords":"","body":"高阶物品模型 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "},"pt03/senior_item/item_render.html":{"url":"pt03/senior_item/item_render.html","title":"3.6.2 特殊物品渲染","keywords":"","body":"特殊物品渲染 By lcyzsdh，使用知识共享 署名-相同方式共享 4.0协议发布            updated 2022-03-06 15:29:58 "}}